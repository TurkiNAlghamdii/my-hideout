(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{4496:(e,a,i)=>{Promise.resolve().then(i.bind(i,3746))},3746:(e,a,i)=>{"use strict";i.d(a,{default:()=>_});var s=i(5155),n=i(2115),r=i(7873),t=i(8173),l=i.n(t),o=i(6046),c=i(4826),u=i(2679),d=i(6239),m=i(2267),g=i(5179),p=i.n(g);let _=()=>{let[e,a]=(0,n.useState)(""),[i,t]=(0,n.useState)(""),[g,_]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[v,U]=(0,n.useState)(!1),S=(0,o.useRouter)(),b=(0,c.A)({palette:{mode:"dark",primary:{main:"#a855f7"}},components:{MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{backgroundColor:"#27272a","&:hover fieldset":{borderColor:"#a855f7"}}}}},MuiInputLabel:{styleOverrides:{root:{color:"#9CA3AF","&.Mui-focused":{color:"#A78BFA"}}}}}}),j=async a=>{if(a.preventDefault(),f(""),!e||!i||!g){f("Username, email, and password are required");return}let{data:s,error:n}=await r.N.auth.signUp({email:i,password:g,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(n){f("Error signing up: ".concat(n.message));return}let t=s.user;if(t){let{data:a,error:i}=await r.N.from("profiles").select("id").eq("username",e).single();if(i&&"PGRST116"!==i.code){f("Error checking username: ".concat(i.message));return}if(a){f("Username already exists. Please choose a different username.");return}let{error:s}=await r.N.from("profiles").insert([{id:t.id,username:e}]);s?s.message.includes("violates foreign key constraint")?f("User already exists with this email. Please log in."):f("Error saving username: ".concat(s.message)):(U(!0),f("Sign-up successful! Please check your email for verification."),setTimeout(()=>{S.push("/signin")},3e3))}else U(!0),f("Sign-up successful! Please check your email for verification."),setTimeout(()=>{S.push("/signin")},3e3)};return(0,s.jsx)("div",{className:p().pageContainer,children:(0,s.jsx)("div",{className:p().mainContent,children:(0,s.jsx)(u.A,{theme:b,children:(0,s.jsxs)("div",{className:p().formWrapper,children:[(0,s.jsx)("h2",{className:p().title,children:"Create Account"}),h&&(0,s.jsx)("div",{className:"".concat(p().message," ").concat(v?p().successMessage:""),children:h}),(0,s.jsxs)("form",{onSubmit:j,className:p().form,children:[(0,s.jsx)(d.A,{fullWidth:!0,label:"Username",value:e,onChange:e=>a(e.target.value),margin:"normal",variant:"outlined",disabled:v}),(0,s.jsx)(d.A,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:e=>t(e.target.value),margin:"normal",variant:"outlined",disabled:v}),(0,s.jsx)(d.A,{fullWidth:!0,label:"Password",type:"password",value:g,onChange:e=>_(e.target.value),margin:"normal",variant:"outlined",disabled:v}),(0,s.jsx)(m.A,{type:"submit",variant:"contained",fullWidth:!0,className:p().button,size:"large",disabled:v,children:"Sign Up"})]}),(0,s.jsxs)("p",{className:p().footer,children:["Already have an account?"," ",(0,s.jsx)(l(),{href:"/signin",legacyBehavior:!0,children:(0,s.jsx)("a",{className:p().link,children:"Sign in"})})]})]})})})})}},7873:(e,a,i)=>{"use strict";i.d(a,{N:()=>s});let s=(0,i(5974).UU)("https://rechlvadwsjwxyhgksto.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlY2hsdmFkd3Nqd3h5aGdrc3RvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgwNjU0MzcsImV4cCI6MjA1MzY0MTQzN30.zahU6vhEBmLa2pYkPa48ZKQA3YPUQF8THgfNf-_n74c")},5179:e=>{e.exports={container:"SignUp_container__PdQ78",background:"SignUp_background__Lirix",card:"SignUp_card__zRJtF",heading:"SignUp_heading__bQzqZ",message:"SignUp_message__Sv720",successMessage:"SignUp_successMessage__86BO7",input:"SignUp_input__Zd5w3",button:"SignUp_button__qUz15",link:"SignUp_link__YgUUj",pageContainer:"SignUp_pageContainer__MjDE_",mainContent:"SignUp_mainContent__dewZ_",formWrapper:"SignUp_formWrapper__P2UEz",title:"SignUp_title___mfSE",form:"SignUp_form__7FXYe",footer:"SignUp_footer__MLjvE"}}},e=>{var a=a=>e(e.s=a);e.O(0,[224,736,173,719,441,517,358],()=>a(4496)),_N_E=e.O()}]);