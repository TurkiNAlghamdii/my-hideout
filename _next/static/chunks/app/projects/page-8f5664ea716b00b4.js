(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{7998:(e,t,r)=>{Promise.resolve().then(r.bind(r,7260))},6327:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2983),o=r(5155);let a=(0,s.A)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},1118:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2983),o=r(5155);let a=(0,s.A)((0,o.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},7260:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5155),o=r(2115),a=r(7873),c=r(4644),l=r(6240),n=r(2322),i=r.n(n),d=r(3126);let j=()=>{let[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!1),[j,p]=(0,o.useState)(!0),[_,u]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),[x,v]=(0,o.useState)(!1),[N,C]=(0,o.useState)(null),[g,f]=(0,o.useState)({title:"",description:"",project_url:""}),[B,y]=(0,o.useState)(null);(0,o.useEffect)(()=>{P(),k()},[]);let P=async()=>{try{let{data:{session:e}}=await a.N.auth.getSession();if(e){let{data:t}=await a.N.from("profiles").select("is_admin").eq("id",e.user.id).single();n((null==t?void 0:t.is_admin)||!1)}}catch(e){console.error("Error checking admin status:",e)}},k=async()=>{try{let{data:e,error:r}=await a.N.from("projects").select("*").order("created_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Error fetching projects:",e)}finally{p(!1)}},w=async()=>{try{let{error:e}=await a.N.from("projects").insert([{title:g.title,description:g.description,project_url:g.project_url}]);if(e)throw e;f({title:"",description:"",project_url:""}),u(!1),k()}catch(e){console.error("Error adding project:",e)}},S=e=>{y(e),h(!0)},b=async()=>{if(B)try{let{error:e}=await a.N.from("projects").update({title:B.title,description:B.description,project_url:B.project_url}).eq("id",B.id);if(e)throw e;h(!1),y(null),k()}catch(e){console.error("Error updating project:",e)}},E=e=>{C(e),v(!0)},T=async()=>{if(N)try{let{error:e}=await a.N.from("projects").delete().eq("id",N.id);if(e)throw e;v(!1),C(null),k()}catch(e){console.error("Error deleting project:",e)}};return j?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900",children:(0,s.jsx)(d.qQ,{text:"Loading projects..."})}):(0,s.jsxs)("div",{className:i().pageContainer,children:[(0,s.jsx)(c.A,{}),(0,s.jsx)("main",{className:i().mainContent,children:(0,s.jsxs)("div",{className:i().projectsContainer,children:[(0,s.jsx)("h1",{className:i().title,children:"Projects"}),r&&(0,s.jsx)("div",{className:i().adminControls,children:(0,s.jsx)("button",{className:i().addButton,onClick:()=>u(!0),children:"Add New Project"})}),_&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Add New Project"}),(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:g.title,onChange:e=>f(t=>({...t,title:e.target.value})),className:i().input}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:g.description,onChange:e=>f(t=>({...t,description:e.target.value})),className:i().textarea}),(0,s.jsx)("input",{type:"url",placeholder:"Project URL",value:g.project_url,onChange:e=>f(t=>({...t,project_url:e.target.value})),className:i().input}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:w,className:i().saveButton,children:"Save Project"}),(0,s.jsx)("button",{onClick:()=>{u(!1),f({title:"",description:"",project_url:""})},className:i().cancelButton,children:"Cancel"})]})]})}),m&&B&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Edit Project"}),(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:B.title,onChange:e=>y(t=>({...t,title:e.target.value})),className:i().input}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:B.description,onChange:e=>y(t=>({...t,description:e.target.value})),className:i().textarea}),(0,s.jsx)("input",{type:"url",placeholder:"Project URL",value:B.project_url,onChange:e=>y(t=>({...t,project_url:e.target.value})),className:i().input}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:b,className:i().saveButton,children:"Save Changes"}),(0,s.jsx)("button",{onClick:()=>{h(!1),y(null)},className:i().cancelButton,children:"Cancel"})]})]})}),x&&N&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Delete Project"}),(0,s.jsxs)("p",{className:i().deleteConfirmation,children:['Are you sure you want to delete "',N.title,'"? This action cannot be undone.']}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:T,className:i().deleteButton,children:"Delete Project"}),(0,s.jsx)("button",{onClick:()=>{v(!1),C(null)},className:i().cancelButton,children:"Cancel"})]})]})}),(0,s.jsx)("div",{className:i().projectsGrid,children:e.map(e=>(0,s.jsx)("div",{className:i().projectCard,children:(0,s.jsxs)("div",{className:i().projectInfo,children:[(0,s.jsx)("h2",{className:i().projectTitle,children:e.title}),(0,s.jsx)("p",{className:i().projectDescription,children:e.description}),(0,s.jsx)("a",{href:e.project_url,target:"_blank",rel:"noopener noreferrer",className:i().projectLink,children:"View Project â†’"}),r&&(0,s.jsxs)("div",{className:i().adminButtons,children:[(0,s.jsx)("button",{className:i().editButton,onClick:()=>S(e),children:"Edit"}),(0,s.jsx)("button",{className:i().deleteButton,onClick:()=>E(e),children:"Delete"})]})]})},e.id))})]})}),(0,s.jsx)(l.A,{})]})}},2322:e=>{e.exports={pageContainer:"projects_pageContainer__cVGta",mainContent:"projects_mainContent__DEqD1",projectsContainer:"projects_projectsContainer__JoxEQ",title:"projects_title__gtIAn",slideDown:"projects_slideDown__6YDd5",adminControls:"projects_adminControls__tO8uy",fadeIn:"projects_fadeIn__MYT_f",addButton:"projects_addButton__YeXBP",projectsGrid:"projects_projectsGrid__c1Pdf",projectCard:"projects_projectCard__PYRt_",projectImage:"projects_projectImage__I4v08",projectInfo:"projects_projectInfo__Hg0VJ",projectTitle:"projects_projectTitle__vqq3N",projectDescription:"projects_projectDescription__UW_66",projectLink:"projects_projectLink__TJ2uu",adminButtons:"projects_adminButtons__cII9m",editButton:"projects_editButton__Pi_Br",deleteButton:"projects_deleteButton__Biry6",loadingContainer:"projects_loadingContainer__kvCd5",loadingSpinner:"projects_loadingSpinner__M60zT",spin:"projects_spin__3miL4",noProjects:"projects_noProjects__F9Wdx",modalOverlay:"projects_modalOverlay__QzNv6",modal:"projects_modal__SnMZA",slideUp:"projects_slideUp__44EWq",modalTitle:"projects_modalTitle__pxAg0",input:"projects_input__MCb66",textarea:"projects_textarea__Bk7_6",fileInput:"projects_fileInput__MF8rL",modalButtons:"projects_modalButtons__KKGtZ",saveButton:"projects_saveButton__RG_Kg",cancelButton:"projects_cancelButton__SLE2S",uploading:"projects_uploading___Xvr8",imagePreview:"projects_imagePreview__aaopk",deleteConfirmation:"projects_deleteConfirmation__ujuzj"}}},e=>{var t=t=>e(e.s=t);e.O(0,[915,836,385,173,983,282,441,517,358],()=>t(7998)),_N_E=e.O()}]);