(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{7998:(e,t,a)=>{Promise.resolve().then(a.bind(a,7260))},7260:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),r=a(2115),n=a(7873),o=a(4644),c=a(6240),l=a(2322),i=a.n(l);let d=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!1),[d,_]=(0,r.useState)(!0),[j,p]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[m,v]=(0,r.useState)(!1),[x,N]=(0,r.useState)(null),[g,f]=(0,r.useState)({title:"",description:"",project_url:""}),[B,C]=(0,r.useState)(null);(0,r.useEffect)(()=>{k(),y()},[]);let k=async()=>{try{let{data:{session:e}}=await n.N.auth.getSession();if(e){let{data:t}=await n.N.from("profiles").select("is_admin").eq("id",e.user.id).single();l((null==t?void 0:t.is_admin)||!1)}}catch(e){console.error("Error checking admin status:",e)}},y=async()=>{try{let{data:e,error:a}=await n.N.from("projects").select("*").order("created_at",{ascending:!1});if(a)throw a;t(e||[])}catch(e){console.error("Error fetching projects:",e)}finally{_(!1)}},I=async()=>{try{let{error:e}=await n.N.from("projects").insert([{title:g.title,description:g.description,project_url:g.project_url}]);if(e)throw e;f({title:"",description:"",project_url:""}),p(!1),y()}catch(e){console.error("Error adding project:",e)}},P=e=>{C(e),h(!0)},S=async()=>{if(B)try{let{error:e}=await n.N.from("projects").update({title:B.title,description:B.description,project_url:B.project_url}).eq("id",B.id);if(e)throw e;h(!1),C(null),y()}catch(e){console.error("Error updating project:",e)}},w=e=>{N(e),v(!0)},b=async()=>{if(x)try{let{error:e}=await n.N.from("projects").delete().eq("id",x.id);if(e)throw e;v(!1),N(null),y()}catch(e){console.error("Error deleting project:",e)}};return d?(0,s.jsx)("div",{className:i().loadingContainer,children:(0,s.jsx)("div",{className:i().loadingSpinner})}):(0,s.jsxs)("div",{className:i().pageContainer,children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("main",{className:i().mainContent,children:(0,s.jsxs)("div",{className:i().projectsContainer,children:[(0,s.jsx)("h1",{className:i().title,children:"Projects"}),a&&(0,s.jsx)("div",{className:i().adminControls,children:(0,s.jsx)("button",{className:i().addButton,onClick:()=>p(!0),children:"Add New Project"})}),j&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Add New Project"}),(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:g.title,onChange:e=>f(t=>({...t,title:e.target.value})),className:i().input}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:g.description,onChange:e=>f(t=>({...t,description:e.target.value})),className:i().textarea}),(0,s.jsx)("input",{type:"url",placeholder:"Project URL",value:g.project_url,onChange:e=>f(t=>({...t,project_url:e.target.value})),className:i().input}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:I,className:i().saveButton,children:"Save Project"}),(0,s.jsx)("button",{onClick:()=>{p(!1),f({title:"",description:"",project_url:""})},className:i().cancelButton,children:"Cancel"})]})]})}),u&&B&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Edit Project"}),(0,s.jsx)("input",{type:"text",placeholder:"Project Title",value:B.title,onChange:e=>C(t=>({...t,title:e.target.value})),className:i().input}),(0,s.jsx)("textarea",{placeholder:"Project Description",value:B.description,onChange:e=>C(t=>({...t,description:e.target.value})),className:i().textarea}),(0,s.jsx)("input",{type:"url",placeholder:"Project URL",value:B.project_url,onChange:e=>C(t=>({...t,project_url:e.target.value})),className:i().input}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:S,className:i().saveButton,children:"Save Changes"}),(0,s.jsx)("button",{onClick:()=>{h(!1),C(null)},className:i().cancelButton,children:"Cancel"})]})]})}),m&&x&&(0,s.jsx)("div",{className:i().modalOverlay,children:(0,s.jsxs)("div",{className:i().modal,children:[(0,s.jsx)("h2",{className:i().modalTitle,children:"Delete Project"}),(0,s.jsxs)("p",{className:i().deleteConfirmation,children:['Are you sure you want to delete "',x.title,'"? This action cannot be undone.']}),(0,s.jsxs)("div",{className:i().modalButtons,children:[(0,s.jsx)("button",{onClick:b,className:i().deleteButton,children:"Delete Project"}),(0,s.jsx)("button",{onClick:()=>{v(!1),N(null)},className:i().cancelButton,children:"Cancel"})]})]})}),(0,s.jsx)("div",{className:i().projectsGrid,children:e.map(e=>(0,s.jsx)("div",{className:i().projectCard,children:(0,s.jsxs)("div",{className:i().projectInfo,children:[(0,s.jsx)("h2",{className:i().projectTitle,children:e.title}),(0,s.jsx)("p",{className:i().projectDescription,children:e.description}),(0,s.jsx)("a",{href:e.project_url,target:"_blank",rel:"noopener noreferrer",className:i().projectLink,children:"View Project â†’"}),a&&(0,s.jsxs)("div",{className:i().adminButtons,children:[(0,s.jsx)("button",{className:i().editButton,onClick:()=>P(e),children:"Edit"}),(0,s.jsx)("button",{className:i().deleteButton,onClick:()=>w(e),children:"Delete"})]})]})},e.id))})]})}),(0,s.jsx)(c.A,{})]})}},6240:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(5155),r=a(8173),n=a.n(r),o=a(397),c=a.n(o);let l=()=>(0,s.jsx)("footer",{className:c().footer,children:(0,s.jsx)("div",{className:c().container,children:(0,s.jsxs)("div",{className:c().content,children:[(0,s.jsxs)("p",{className:c().copyright,children:["\xa9 ",new Date().getFullYear()," Tobi. All rights reserved."]}),(0,s.jsxs)("div",{className:c().links,children:[(0,s.jsx)(n(),{href:"/privacy",className:c().link,children:"Privacy Policy"}),(0,s.jsx)(n(),{href:"/terms",className:c().link,children:"Terms of Service"}),(0,s.jsx)(n(),{href:"/contact",className:c().link,children:"Contact"})]})]})})})},4644:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(5155),r=a(8173),n=a.n(r),o=a(2115),c=a(7873),l=a(1165),i=a.n(l);let d=()=>{let[e,t]=(0,o.useState)(null);(0,o.useEffect)(()=>{c.N.auth.getSession().then(e=>{let{data:{session:a}}=e;t(a)});let{data:{subscription:e}}=c.N.auth.onAuthStateChange((e,a)=>{t(a)});return()=>e.unsubscribe()},[]);let a=async()=>{await c.N.auth.signOut()};return(0,s.jsx)("header",{className:i().header,children:(0,s.jsxs)("nav",{className:i().nav,children:[(0,s.jsx)(n(),{href:"/home",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().logo,children:"TOBI"})}),(0,s.jsxs)("div",{className:i().navLinks,children:[(0,s.jsx)(n(),{href:"/home",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().navLink,children:"Home"})}),(0,s.jsx)(n(),{href:"/projects",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().navLink,children:"Projects"})}),(0,s.jsx)(n(),{href:"/socials",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().navLink,children:"Socials"})})]}),(0,s.jsx)("div",{className:i().authButtons,children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{href:"/profile",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().navLink,children:"Profile"})}),(0,s.jsx)("button",{onClick:a,className:i().signOutButton,children:"Sign Out"})]}):(0,s.jsx)(n(),{href:"/signin",legacyBehavior:!0,children:(0,s.jsx)("a",{className:i().signInButton,children:"Sign In"})})})]})})}},7873:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(5974).UU)("https://rechlvadwsjwxyhgksto.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlY2hsdmFkd3Nqd3h5aGdrc3RvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgwNjU0MzcsImV4cCI6MjA1MzY0MTQzN30.zahU6vhEBmLa2pYkPa48ZKQA3YPUQF8THgfNf-_n74c")},2322:e=>{e.exports={pageContainer:"projects_pageContainer__cVGta",mainContent:"projects_mainContent__DEqD1",projectsContainer:"projects_projectsContainer__JoxEQ",title:"projects_title__gtIAn",slideDown:"projects_slideDown__6YDd5",adminControls:"projects_adminControls__tO8uy",fadeIn:"projects_fadeIn__MYT_f",addButton:"projects_addButton__YeXBP",projectsGrid:"projects_projectsGrid__c1Pdf",projectCard:"projects_projectCard__PYRt_",projectImage:"projects_projectImage__I4v08",projectInfo:"projects_projectInfo__Hg0VJ",projectTitle:"projects_projectTitle__vqq3N",projectDescription:"projects_projectDescription__UW_66",projectLink:"projects_projectLink__TJ2uu",adminButtons:"projects_adminButtons__cII9m",editButton:"projects_editButton__Pi_Br",deleteButton:"projects_deleteButton__Biry6",loadingContainer:"projects_loadingContainer__kvCd5",loadingSpinner:"projects_loadingSpinner__M60zT",spin:"projects_spin__3miL4",noProjects:"projects_noProjects__F9Wdx",modalOverlay:"projects_modalOverlay__QzNv6",modal:"projects_modal__SnMZA",slideUp:"projects_slideUp__44EWq",modalTitle:"projects_modalTitle__pxAg0",input:"projects_input__MCb66",textarea:"projects_textarea__Bk7_6",fileInput:"projects_fileInput__MF8rL",modalButtons:"projects_modalButtons__KKGtZ",saveButton:"projects_saveButton__RG_Kg",cancelButton:"projects_cancelButton__SLE2S",uploading:"projects_uploading___Xvr8",imagePreview:"projects_imagePreview__aaopk",deleteConfirmation:"projects_deleteConfirmation__ujuzj"}},397:e=>{e.exports={footer:"Footer_footer__4vzqH",container:"Footer_container__Dj1D9",content:"Footer_content__a1cH7",copyright:"Footer_copyright__1v3uR",links:"Footer_links__LGHlK",link:"Footer_link__wByfM"}},1165:e=>{e.exports={header:"Header_header__AF_3G",container:"Header_container__3JNoS",logo:"Header_logo__1FRrW",nav:"Header_nav__LVYU2",navLinks:"Header_navLinks__vBy8d",authButtons:"Header_authButtons__2_7Ug",navLink:"Header_navLink__bX76H",profileButton:"Header_profileButton__xq6K0",signInButton:"Header_signInButton__dKagW",signOutButton:"Header_signOutButton__TFWkK",scrolled:"Header_scrolled__Ik5rI"}}},e=>{var t=t=>e(e.s=t);e.O(0,[915,736,173,441,517,358],()=>t(7998)),_N_E=e.O()}]);