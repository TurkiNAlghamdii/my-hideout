(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{3784:(e,t,i)=>{Promise.resolve().then(i.bind(i,7700))},7700:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var s=i(5155),r=i(2115),n=i(6046),a=i(7873),l=i(6836),o=i(8173),c=i.n(o);let d=()=>{let[e,t]=(0,r.useState)("loading"),[i,o]=(0,r.useState)("Processing your authentication..."),d=(0,n.useRouter)(),h=(0,n.useSearchParams)();(0,r.useEffect)(()=>{(async()=>{try{let e=null==h?void 0:h.get("code"),i=null==h?void 0:h.get("type");if(!e){t("error"),o("No authentication code found. Please try signing in again.");return}let{error:s}=await a.N.auth.exchangeCodeForSession(e);if(s)throw s;"email_confirmation"===i||"signup"===i?(t("success"),o("Authentication successful! Redirecting to confirmation page..."),setTimeout(()=>{d.push("/auth/confirm")},2e3)):(t("success"),o("Authentication successful! Redirecting to home..."),setTimeout(()=>{d.push("/home")},2e3))}catch(e){console.error("Error handling auth:",e),t("error"),o("There was an error processing your authentication. Please try again.")}})()},[d,h]);let u={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:10}}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#1f1f1f] text-white p-4",children:(0,s.jsxs)(l.P.div,{className:"max-w-md w-full p-8 rounded-xl bg-zinc-900/80 backdrop-blur-md border border-zinc-800 shadow-xl",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:[(0,s.jsxs)(l.P.div,{className:"text-center mb-8",variants:u,children:["loading"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-t-2 border-b-2 border-purple-500 rounded-full animate-spin mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Processing Authentication"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please wait while we authenticate your account..."})]}),"success"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Authentication Successful!"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:i})]}),"error"===e&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-700 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Authentication Failed"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:i})]})]}),(0,s.jsx)(l.P.div,{className:"flex flex-col space-y-4",variants:u,children:"error"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{href:"/signin",legacyBehavior:!0,children:(0,s.jsx)("a",{className:"w-full py-3 px-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg font-medium text-center transition-all hover:shadow-lg hover:shadow-purple-500/25",children:"Try Signing In Again"})}),(0,s.jsx)(c(),{href:"/home",legacyBehavior:!0,children:(0,s.jsx)("a",{className:"w-full py-3 px-4 bg-zinc-800 text-white rounded-lg font-medium text-center transition-all hover:bg-zinc-700",children:"Go to Home Page"})})]})})]})})}},7873:(e,t,i)=>{"use strict";i.d(t,{C:()=>r,N:()=>s});let s=(0,i(5974).UU)("https://rechlvadwsjwxyhgksto.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlY2hsdmFkd3Nqd3h5aGdrc3RvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgwNjU0MzcsImV4cCI6MjA1MzY0MTQzN30.zahU6vhEBmLa2pYkPa48ZKQA3YPUQF8THgfNf-_n74c",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"my-hideout"}}});s.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e&&t?localStorage.setItem("lastSignInTime",Date.now().toString()):"SIGNED_OUT"===e&&localStorage.removeItem("lastSignInTime")});let r=async()=>{try{let{data:{session:e}}=await s.auth.getSession();if(!e)return!1;let t=localStorage.getItem("lastSignInTime");if(t){let e=Date.now(),i=parseInt(t);if(e-i>864e5)return await s.auth.signOut(),localStorage.removeItem("lastSignInTime"),!1;return!0}if(e)return localStorage.setItem("lastSignInTime",Date.now().toString()),!0;return!1}catch(e){return console.error("Error checking session:",e),!1}}}},e=>{var t=t=>e(e.s=t);e.O(0,[836,385,173,441,517,358],()=>t(3784)),_N_E=e.O()}]);